// Mock AI Library - Using placeholder data instead of actual API calls

// Mock responses for different document types
const MOCK_RESPONSES = {
  land_deed: {
    generateContent: (prompt: string) => {
      if (prompt.toLowerCase().includes('summarize') || prompt.toLowerCase().includes('bullet points')) {
        return `# Land Deed Analysis Summary

**Key Points:**
‚Ä¢ Property located at 123 Main Street, Springfield, County of Franklin
‚Ä¢ Grantor: John Smith and Mary Smith (husband and wife)
‚Ä¢ Grantee: Robert Johnson and Susan Johnson (joint tenants)
‚Ä¢ Property size: 2.5 acres with residential dwelling
‚Ä¢ Transfer date: January 15, 2024
‚Ä¢ Purchase price: $450,000
‚Ä¢ All liens and encumbrances cleared at closing`;
      }
      
      if (prompt.toLowerCase().includes('key terms') || prompt.toLowerCase().includes('important terms')) {
        return `# Important Terms in Land Deed

**Legal Terms:**
‚Ä¢ **Grantor**: The seller (John & Mary Smith)
‚Ä¢ **Grantee**: The buyer (Robert & Susan Johnson)
‚Ä¢ **Joint Tenancy**: Both buyers own equal shares with right of survivorship
‚Ä¢ **Warranty Deed**: Seller guarantees clear title
‚Ä¢ **Legal Description**: Metes and bounds survey description included
‚Ä¢ **Easements**: Utility easement along eastern boundary
‚Ä¢ **Covenants**: Standard warranties against liens and encumbrances`;
      }
      
      if (prompt.toLowerCase().includes('concerning') || prompt.toLowerCase().includes('risk')) {
        return `# Potential Areas of Concern

**Review Recommended:**
‚Ä¢ Utility easement may restrict building on eastern 10 feet
‚Ä¢ Property taxes will be prorated as of closing date
‚Ä¢ Well water system - buyer responsible for testing
‚Ä¢ Septic system last inspected in 2022
‚Ä¢ Property boundaries should be verified by survey
‚Ä¢ Homeowner's insurance required before closing`;
      }
      
      return `# Land Deed Document Analysis

This land deed represents the legal transfer of property ownership from John and Mary Smith to Robert and Susan Johnson. The document includes:

**Property Details:**
- Address: 123 Main Street, Springfield
- Size: 2.5 acres with existing residence
- Legal description with precise boundaries

**Financial Terms:**
- Purchase price: $450,000
- Property taxes prorated to closing date
- All closing costs allocated per agreement

**Legal Protections:**
- Warranty deed with full covenants
- Title insurance recommended
- Clear title guaranteed by grantor

The deed appears to be properly executed with notarization and required signatures.`;
    },
    
    analyzeDocument: () => `# Land Deed Analysis Complete

I've analyzed your **land deed document** for the property transfer.

## üìã Document Summary

**Property Transfer Details:**
- **From:** John Smith and Mary Smith (Grantors)
- **To:** Robert Johnson and Susan Johnson (Grantees)
- **Property:** 123 Main Street, Springfield, Franklin County
- **Size:** 2.5 acres with residential dwelling
- **Sale Price:** $450,000
- **Transfer Date:** January 15, 2024

## üè† Property Information

**Legal Description:**
The property is described using metes and bounds surveying, providing precise boundaries and measurements.

**Key Features:**
- Existing single-family residence
- Well water system (buyer to test)
- Septic system (last inspected 2022)
- Utility easement along eastern boundary

## ‚öñÔ∏è Legal Aspects

**Type of Deed:** Warranty Deed with full covenants
**Ownership Structure:** Joint tenancy with right of survivorship
**Title Status:** Clear title guaranteed by grantors

## ‚ö†Ô∏è Important Considerations

1. **Utility Easement:** Eastern 10 feet may have building restrictions
2. **Water/Septic:** Systems require buyer verification and testing
3. **Property Taxes:** Will be prorated as of closing date
4. **Insurance:** Homeowner's coverage required before closing
5. **Survey:** Boundary verification recommended

This appears to be a standard residential property transfer with proper legal documentation.`
  }
};

// Helper function to generate content with mock data
export async function generateContent(prompt: string) {
  // Simulate API delay
  await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 2000));
  
  const lowerPrompt = prompt.toLowerCase();
  
  // Specific responses based on prompt content
  if (lowerPrompt.includes('main points') || lowerPrompt.includes('key points')) {
    return `# üìã Main Points of Your Document

**Essential Information:**
‚Ä¢ **Property Transfer:** John & Mary Smith ‚Üí Robert & Susan Johnson
‚Ä¢ **Location:** 123 Main Street, Springfield (2.5 acres)
‚Ä¢ **Purchase Price:** $450,000 with clear title
‚Ä¢ **Ownership Type:** Joint tenancy with survivorship rights
‚Ä¢ **Transfer Date:** January 15, 2024
‚Ä¢ **Property Features:** Residential home, well water, septic system

**Key Legal Elements:**
‚Ä¢ Warranty deed with full covenants and protections
‚Ä¢ Utility easement along eastern property boundary
‚Ä¢ Property taxes prorated to closing date`;
  }
  
  if (lowerPrompt.includes('risks') || lowerPrompt.includes('red flags') || lowerPrompt.includes('watch out')) {
    return `# ‚ö†Ô∏è Potential Risks & Red Flags

**Areas of Concern:**
üö© **Utility Easement:** Eastern 10 feet may restrict future building/modifications
üö© **Well Water System:** Requires testing - quality and safety not guaranteed
üö© **Septic System:** Last inspected 2022 - may need maintenance/replacement
üö© **Property Boundaries:** Survey verification recommended before finalizing

**Financial Risks:**
üí∞ Property tax increases possible after reassessment
üí∞ Well/septic maintenance costs are buyer's responsibility
üí∞ Title insurance recommended but not explicitly required

**Action Items:**
‚úÖ Get professional well water testing
‚úÖ Inspect septic system thoroughly  
‚úÖ Verify exact property boundaries
‚úÖ Understand easement restrictions`;
  }
  
  if (lowerPrompt.includes('summarize') || lowerPrompt.includes('summary')) {
    return `# üìä Document Summary

**What This Is:** A warranty deed transferring ownership of residential property

**Who's Involved:**
‚Ä¢ **Sellers (Grantors):** John Smith & Mary Smith
‚Ä¢ **Buyers (Grantees):** Robert Johnson & Susan Johnson

**The Property:**
‚Ä¢ 2.5-acre residential property in Springfield
‚Ä¢ Includes existing home, well, and septic system
‚Ä¢ Clear legal title with warranty protections

**Financial Terms:**
‚Ä¢ Sale price: $450,000
‚Ä¢ Property taxes split based on closing date
‚Ä¢ Standard closing cost allocations

**Bottom Line:** This appears to be a straightforward residential property sale with proper legal documentation and clear title transfer.`;
  }
  
  if (lowerPrompt.includes('pay attention') || lowerPrompt.includes('important') || lowerPrompt.includes('focus')) {
    return `# üîç What You Should Pay Attention To

**Critical Details:**
1. **Joint Tenancy Ownership:** Both buyers have equal rights + survivorship
2. **Utility Easement:** Eastern boundary has restrictions - check before building
3. **Water & Septic:** Private systems = ongoing maintenance responsibility
4. **Warranty Deed:** Sellers guarantee clear title (good protection for you)

**Before Closing:**
‚Ä¢ Test well water quality and flow rate
‚Ä¢ Inspect septic system functionality  
‚Ä¢ Get current property survey
‚Ä¢ Understand easement limitations
‚Ä¢ Secure homeowner's insurance

**Financial Considerations:**
‚Ä¢ Property taxes will be adjusted at closing
‚Ä¢ Budget for potential well/septic repairs
‚Ä¢ Consider title insurance for extra protection`;
  }
  
  if (lowerPrompt.includes('actionable') || lowerPrompt.includes('insights') || lowerPrompt.includes('next steps')) {
    return `# üí° Actionable Insights & Next Steps

**Immediate Actions:**
1. **Schedule Well Testing** - Get water quality and flow analysis ($200-400)
2. **Septic Inspection** - Professional assessment recommended ($300-500)  
3. **Property Survey** - Verify boundaries and easement details ($500-800)
4. **Title Insurance** - Consider purchasing for extra protection

**Before Signing:**
‚úÖ Review easement restrictions with local building department
‚úÖ Get copies of previous septic inspection reports
‚úÖ Understand your maintenance responsibilities for private utilities
‚úÖ Confirm property tax amounts and payment schedule

**Long-term Planning:**
‚Ä¢ Budget 1-2% of property value annually for maintenance
‚Ä¢ Research local building codes for future improvements
‚Ä¢ Establish relationships with well/septic service providers
‚Ä¢ Keep all property documents in secure location

**Questions to Ask:**
‚Ä¢ When was the well last tested?
‚Ä¢ Are there any pending property tax appeals?
‚Ä¢ What's included in the utility easement rights?`;
  }
  
  if (lowerPrompt.includes('questions') || lowerPrompt.includes('ask about')) {
    return `# ‚ùì Important Questions You Should Ask

**About the Property:**
‚Ä¢ When was the well water last tested, and what were the results?
‚Ä¢ What's the septic system capacity and condition?
‚Ä¢ Are there any known boundary disputes or survey issues?
‚Ä¢ What maintenance records exist for well and septic?

**About the Sale:**
‚Ä¢ Are there any liens, judgments, or pending legal issues?
‚Ä¢ What personal property is included in the sale?
‚Ä¢ Who pays for title insurance and other closing costs?
‚Ä¢ What happens if major issues are discovered before closing?

**About Restrictions:**
‚Ä¢ What exactly can and cannot be done in the utility easement area?
‚Ä¢ Are there HOA fees, deed restrictions, or building limitations?
‚Ä¢ What are the local zoning requirements for future improvements?

**Financial Questions:**
‚Ä¢ What were the property taxes last year, and are they current?
‚Ä¢ Are utilities connected and functioning properly?
‚Ä¢ What insurance requirements exist for the property?`;
  }
  
  if (lowerPrompt.includes('tell me more') || lowerPrompt.includes('explain more')) {
    return `# üîç More Detailed Information

**Legal Structure Explained:**
This warranty deed provides strong buyer protection. The sellers (grantors) legally guarantee they own the property free and clear, and they're responsible if any title problems arise later.

**Joint Tenancy Benefits:**
Both buyers own 100% of the property with "right of survivorship" - if one person dies, the other automatically inherits their share without going through probate court.

**Utility Easement Details:**
The eastern boundary easement gives utility companies permanent rights to access, maintain, and repair infrastructure. This typically means no buildings, fences, or major landscaping in that 10-foot strip.

**Private Utilities Implications:**
Well water and septic systems require ongoing maintenance and eventual replacement. Budget $1,000-3,000 annually for potential repairs, testing, and upkeep.

**Property Tax Considerations:**
Taxes are "prorated" meaning if closing happens mid-year, each party pays their proportional share. New owners should verify current tax rates and any pending reassessments.`;
  }
  
  if (lowerPrompt.includes('simpler terms') || lowerPrompt.includes('explain simply')) {
    return `# üìñ Explained in Simple Terms

**What's Happening:**
John and Mary Smith are selling their house and 2.5 acres to Robert and Susan Johnson for $450,000.

**The Good News:**
‚Ä¢ Clean title (no legal problems with ownership)
‚Ä¢ Warranty deed (sellers promise they really own it)
‚Ä¢ Joint ownership (both buyers own it equally)

**Things to Know:**
‚Ä¢ The house has its own well for water (not city water)
‚Ä¢ It has its own septic system (not city sewer)
‚Ä¢ There's a utility easement (power company can access part of the land)

**What This Means for Buyers:**
‚Ä¢ You'll own the property together as equal partners
‚Ä¢ You're responsible for maintaining the well and septic
‚Ä¢ You can't build anything in the utility easement area
‚Ä¢ If something goes wrong with the title, the sellers have to fix it

**Bottom Line:**
This looks like a normal house sale with good legal protection for the buyers, but you'll need to take care of your own water and sewer systems.`;
  }
  
  if (lowerPrompt.includes('rights') || lowerPrompt.includes('my rights')) {
    return `# ‚öñÔ∏è Your Rights in This Transaction

**As Joint Tenants, You Have:**
‚Ä¢ **Equal Ownership:** Both parties own 100% with survivorship rights
‚Ä¢ **Right to Occupy:** Both can live on and use the entire property
‚Ä¢ **Right to Transfer:** Either party can sell their interest (converts to tenancy in common)
‚Ä¢ **Survivorship Rights:** If one owner dies, the other automatically inherits

**Warranty Deed Protections:**
‚Ä¢ **Right to Clear Title:** Sellers guarantee no hidden ownership claims
‚Ä¢ **Right to Quiet Enjoyment:** No one can legally challenge your ownership
‚Ä¢ **Right to Legal Defense:** Sellers must defend against any title disputes
‚Ä¢ **Right to Compensation:** If title problems arise, sellers are financially responsible

**Property Rights:**
‚Ä¢ **Right to Improve:** Build, modify, or renovate (subject to local codes)
‚Ä¢ **Right to Use Resources:** Well water and septic system access
‚Ä¢ **Right to Exclude:** Keep others off your property (except easement areas)

**Before Closing Rights:**
‚Ä¢ **Right to Inspect:** Professional inspections of all systems
‚Ä¢ **Right to Review:** All property documents and disclosures
‚Ä¢ **Right to Negotiate:** Terms, repairs, or price adjustments
‚Ä¢ **Right to Walk Away:** If major problems are discovered`;
  }
  
  if (lowerPrompt.includes('costs') || lowerPrompt.includes('money') || lowerPrompt.includes('expenses')) {
    return `# üí∞ Costs and Financial Considerations

**Purchase Costs:**
‚Ä¢ **Sale Price:** $450,000
‚Ä¢ **Closing Costs:** Typically 2-5% of purchase price ($9,000-22,500)
‚Ä¢ **Title Insurance:** $1,000-2,000 (recommended)
‚Ä¢ **Property Inspection:** $400-800
‚Ä¢ **Well/Septic Testing:** $500-900

**Ongoing Costs:**
‚Ä¢ **Property Taxes:** Varies by location (typically 1-3% annually)
‚Ä¢ **Homeowner's Insurance:** $1,200-3,000/year for rural property
‚Ä¢ **Well Maintenance:** $200-500/year for testing and upkeep
‚Ä¢ **Septic Maintenance:** $300-600 every 3-5 years for pumping

**Potential Future Costs:**
‚Ä¢ **Well Replacement:** $8,000-15,000 (lasts 15-30 years)
‚Ä¢ **Septic Replacement:** $10,000-25,000 (lasts 20-40 years)
‚Ä¢ **Property Improvements:** Subject to easement restrictions

**Money-Saving Tips:**
‚Ä¢ Get multiple quotes for inspections
‚Ä¢ Research local tax rates and exemptions
‚Ä¢ Budget 1-2% of property value annually for maintenance
‚Ä¢ Consider energy-efficient improvements for insurance discounts`;
  }
  
  if (lowerPrompt.includes('deadlines') || lowerPrompt.includes('timeline') || lowerPrompt.includes('important dates')) {
    return `# üìÖ Important Deadlines and Timeline

**Critical Dates:**
‚Ä¢ **Transfer Date:** January 15, 2024 (already completed)
‚Ä¢ **Property Tax Proration:** Based on closing date
‚Ä¢ **Insurance Requirement:** Must be in place before closing

**Typical Closing Timeline:**
‚Ä¢ **Days 1-7:** Property inspections and well/septic testing
‚Ä¢ **Days 8-14:** Review inspection results, negotiate repairs
‚Ä¢ **Days 15-21:** Finalize mortgage approval and title search
‚Ä¢ **Days 22-30:** Final walkthrough and closing preparation

**Ongoing Deadlines:**
‚Ä¢ **Property Taxes:** Usually due quarterly or annually
‚Ä¢ **Well Testing:** Recommended annually for safety
‚Ä¢ **Septic Pumping:** Every 3-5 years depending on usage
‚Ä¢ **Insurance Renewal:** Annual policy renewal required

**Important Reminders:**
‚Ä¢ Schedule inspections immediately after contract signing
‚Ä¢ Allow extra time for rural property title searches
‚Ä¢ Plan for potential delays with well/septic testing
‚Ä¢ Coordinate utility transfers and connections early

**Action Items:**
‚úÖ Schedule all inspections within first week
‚úÖ Order title insurance as soon as possible
‚úÖ Contact insurance agent for policy quotes
‚úÖ Research local property tax payment schedules`;
  }
  
  // Default response for other prompts
  return MOCK_RESPONSES.land_deed.generateContent(prompt);
}

// Function to analyze documents with mock data
export async function analyzeDocument(documentContent: string, question?: string) {
  // Simulate API delay
  await new Promise(resolve => setTimeout(resolve, 2000 + Math.random() * 3000));
  
  if (question) {
    return generateContent(question);
  }
  
  // Return mock analysis for land deed
  return MOCK_RESPONSES.land_deed.analyzeDocument();
}
